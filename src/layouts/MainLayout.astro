import { Markdown } from 'astro/components';
import type { Props } from 'astro';

interface Props {
  title: string;
  description: string;
  keywords: string;
  content: string;
}

const { title, description, keywords, content } = Astro.props;

<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content={description} />
    <meta name="keywords" content={keywords} />
    <title>{title}</title>
    
    <!-- Яндекс.Метрика -->
    <script type="text/javascript">
      (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
      m[i].l=1*new Date();
      for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
      k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
      (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");
      ym(00000000, "init", {
        clickmap:true,
        trackLinks:true,
        accurateTrackBounce:true
      });
    </script>
    <noscript><div><img src="https://mc.yandex.ru/watch/00000000" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-XXXXXXXXXX');
    </script>
    
    <!-- VK Pixel -->
    <script>
      !function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://vk.com/js/api/openapi.js?169",t.onload=function(){VK.Retargeting.Init("VK-RTRG-000000-XXXXX"),VK.Retargeting.Hit()},document.head.appendChild(t)}();
    </script>
  </head>
  <body class="min-h-screen bg-gray-50">
    <main class="container mx-auto px-4 py-8 max-w-4xl">
      <article class="prose prose-lg mx-auto">
        <Markdown content={content} />
      </article>
      
      <!-- Travelpayouts Widget -->
      <div class="mt-8">
        <iframe 
          src="https://widgets.travelpayouts.com/iframe?widget_id=000000&marker=000000&locale=ru&currency=rub&powered_by=true" 
          width="100%" 
          height="600" 
          frameborder="0"
          scrolling="no"
          class="rounded-lg shadow-lg"
        ></iframe>
      </div>
    </main>
  </body>
</html> 